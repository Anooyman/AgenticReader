{% extends "base.html" %}

{% block title %}AgenticReader - ä¸»èœå•{% endblock %}

{% block extra_css %}
<style>
    .dashboard {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
    }

    .welcome {
        text-align: center;
        padding: 3rem 0 2rem;
    }

    .welcome h1 {
        font-size: 2.5rem;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
    }

    .quick-start {
        margin-bottom: 3rem;
    }

    .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        text-align: center;
    }

    .mode-card {
        background: var(--bg-primary);
        border-radius: 0.75rem;
        padding: 2.5rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 2px solid var(--border-light);
        transition: all 0.2s;
        cursor: pointer;
        text-align: center;
    }

    .mode-card:hover {
        border-color: var(--primary-color);
        box-shadow: 0 8px 30px rgba(102, 126, 234, 0.15);
        transform: translateY(-4px);
    }

    .mode-icon { font-size: 3.5rem; margin-bottom: 1rem; }
    .mode-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.75rem; }
    .mode-desc { color: var(--text-secondary); margin-bottom: 1rem; line-height: 1.6; }
    .mode-requirement {
        font-size: 0.875rem;
        color: var(--text-muted);
        background: var(--bg-secondary);
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        display: inline-block;
    }
</style>
{% endblock %}

{% block content %}
<div class="dashboard">
    <!-- æ¬¢è¿åŒº -->
    <div class="welcome">
        <h1>ğŸ“š AgenticReader</h1>
        <p>æ™ºèƒ½æ–‡æ¡£å¯¹è¯åŠ©æ‰‹ - æ·±å…¥ç†è§£æ¯ä¸€ä»½æ–‡æ¡£</p>
    </div>

    <!-- å¿«é€Ÿå¯åŠ¨ -->
    <section class="quick-start">
        <h2 class="section-title">ğŸš€ å¿«é€Ÿå¯åŠ¨</h2>
        <div class="mode-cards" style="max-width: 500px; margin: 0 auto;">
            <!-- å¼€å§‹å¯¹è¯ -->
            <div class="mode-card" id="start-chat-card" role="button" tabindex="0"
                 onclick="event.preventDefault(); event.stopPropagation(); event.stopImmediatePropagation(); window.location.href='/chat'; return false;"
                 onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();event.stopImmediatePropagation();window.location.href='/chat';return false;}">
                <div class="mode-icon">ğŸ’¬</div>
                <div class="mode-title">å¼€å§‹å¯¹è¯</div>
                <div class="mode-desc">ç›´æ¥å¼€å§‹å¯¹è¯ï¼Œæˆ–åœ¨å¯¹è¯ä¸­é€‰æ‹© ğŸ“ æ–‡æ¡£å’Œ ğŸŒ æœç´¢å·¥å…·æ¥å¢å¼ºå›ç­”èƒ½åŠ›</div>
                <div class="mode-requirement">ğŸ’¡ æ”¯æŒï¼šçº¯å¯¹è¯ / å•æ–‡æ¡£ / å¤šæ–‡æ¡£ / ç½‘ç»œæœç´¢</div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // å¤‡ç”¨æ–¹æ¡ˆï¼šå¦‚æœå†…è”äº‹ä»¶å¤„ç†å™¨è¢«æ‰©å±•é˜»æ­¢ï¼Œä½¿ç”¨æ­¤å¤‡ä»½
    // å†…è” onclick æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼Œåº”è¯¥èƒ½ç»•è¿‡å¤§å¤šæ•°æ‰©å±•
    function initDashboard() {
        const startChatCard = document.getElementById('start-chat-card');
        if (startChatCard) {
            console.log('âœ… å¼€å§‹å¯¹è¯æŒ‰é’®å·²å°±ç»ªï¼ˆä½¿ç”¨å†…è”äº‹ä»¶å¤„ç†å™¨ + å¤‡ç”¨ç›‘å¬å™¨ï¼‰');

            // å¤‡ç”¨ç›‘å¬å™¨ï¼ˆå¦‚æœå†…è”äº‹ä»¶å¤±è´¥æ‰ä¼šæ‰§è¡Œï¼‰
            startChatCard.addEventListener('click', function(e) {
                console.log('âš ï¸  å¤‡ç”¨ç›‘å¬å™¨è¢«è§¦å‘ï¼ˆå†…è”äº‹ä»¶å¯èƒ½è¢«é˜»æ­¢ï¼‰');
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                window.location.href = '/chat';
            }, true);
        } else {
            console.error('âŒ æœªæ‰¾åˆ° start-chat-card å…ƒç´ ');
        }
    }

    // ç¡®ä¿ DOM åŠ è½½å®Œæˆåæ‰§è¡Œ
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initDashboard);
    } else {
        initDashboard();
    }
</script>
{% endblock %}
